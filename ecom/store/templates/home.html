{% extends 'base.html' %}
{% load static %}
{% block content %}


<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@1,700&display=swap" rel="stylesheet"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Hind:wght@600;700&display=swap" rel="stylesheet"/>
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>

<link href="{% static 'css/base.css' %}" rel="stylesheet" />

<section class="main-image">

    <img src="https://i.ibb.co/GTFNRtw/main-shoe.png" alt="main-shoe.png" class="floating-img">

    <h1 class="animated-text">
        <span class="white-text">R</span>GB
        <span class="white-text">SHOES</span>
    </h1>
    <button class="expand-button">
        <span class="material-symbols-outlined expand-icon">
          expand_more
        </span>
    </button>


    
    <video id="video-background" autoplay muted loop>
        <source src="{% static 'bg2.mp4' %}" type="video/mp4">
        Your browser does not support the video tag.
    </video>

</section>


<!-- Section-->
<section class="py-5">
    <div class="container px-4 px-lg-5 mt-5">
        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">

            {% for product in products %}
            {% if product.is_sale%}

            <div class="col mb-5">
                <div class="card h-100">
                    <!-- Sale badge-->
                    <div class="badge bg-dark text-white position-absolute"
                         style="top: 0.5rem; right: 0.5rem; padding: 0.25rem 0.5rem; border-radius: 0.25rem;">Sale
                    </div>
                    <!-- Product image-->
                    <img class="card-img-top" src="{{ product.image.url }}" alt="..."/>
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Product name-->
                            <h5 class="fw-bolder">{{ product.name }}</h5>

                            <!-- Sale!!-->
                            <div class="d-flex justify-content-center small text-warning mb-2">
                                <div class="bi-star-fill"></div>
                                &nbsp;&nbsp;&nbsp;Sale!&nbsp;&nbsp;
                                <div class="bi-star-fill"></div>
                            </div>

                            <!-- Product price-->
                            <strike>
                                ₱{{product.price}}
                            </strike>
                            &nbsp;₱{{product.sale_price}}
                            <br>
                            In: {{product.category}}
                        </div>
                    </div>
                    <!-- Product actions-->
                    <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                        <div class="text-center"><a class="btn btn-outline-dark mt-auto"
                                                    href="{% url 'product' product.id %}">View Product</a>
                        </div>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="col mb-5">
                <div class="card h-100">
                    <!-- Product image-->
                    <img class="card-img-top" src="{{ product.image.url }}" alt="..."/>
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Product name-->
                            <h5 class="fw-bolder">{{ product.name }}</h5>
                            <!-- Product price-->
                            ₱{{product.price}}
                            <br>
                            In: {{product.category}}
                        </div>
                    </div>
                    <!-- Product actions-->
                    <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                        <div class="text-center"><a class="btn btn-outline-dark mt-auto"
                                                    href="{% url 'product' product.id %}">View Product</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}


        </div>
    </div>


    <div>
        <div id="carouselExampleFade" class="carousel slide carousel-fade">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="..." class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="..." class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="..." class="d-block w-100" alt="...">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade"
                    data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade"
                    data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>


</section>

<style>
    .card-img-top {
        width: 100%;
        height: auto;
        object-fit: cover; /* Ensures the image covers the entire container */
        transition: transform 0.3s; /* Smooth transition for the hover effect */
    }
    
    .card-img-top:hover {
        box-shadow: 10px white;
        transform: scale(1.1); /* Scale the image up slightly on hover */
    }
    
</style>


{% endblock %}